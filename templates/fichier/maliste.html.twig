{% extends 'base.html.twig' %}

{% block title %}Liste de mes fichiers{% endblock %}

{% block body %}
    <h1 class="h1-responsive mb-5"> Liste de mes fichiers </h1>

    {% if not listeFichiers is empty %}
        {{ form_start(form)}} 
        <table id='table' data-order='[[ 3, "desc" ]]' data-page-length='10' class="display">
            <thead>
                <tr>
                    <th>Nom</th>
                    <th>Nom Original</th>
                    <th>Thème</th>
                    <th>Date</th>
                    <th>Extension</th>
                    <th>Taille</th>
                    <th>Modifier</th>
                    <th>Supprimer</th>

                </tr>
            </thead>
            <tbody>
                {% for key,value in listeFichiers %}

                    <tr>
                        <td><a href="{{ path('download',{'id':value.id}) }}">{{ value.nom }}</a></td>
                        <td>{{ value.nomoriginal }}</td>
                        <td>{% for key,value in value.themes %}
                            {% if loop.last ==  false%}

                                {{ value.libelle }} /

                            {% else %}

                                {{ value.libelle }}

                            {% endif %}
                        {% endfor %}</td>
                    <td>{{ value.date|date("d-m-Y à H:i:s") }}</td>
                    <td>{{ value.extension }}</td>
                    <td>{{ value.taille }}</td>               
                    <td><a href="{{ path('fichier_modifier',{'id':value.id})}}">Modifier</td>
                    <td><input type="checkbox" name="cocher[]"value="{{ value.id }}"/></td>

                </tr>
                {% endfor %}
                </tbody>
            </table>
            {{ form_widget(form.save,{'attr':{'class':'btn btn-light float-right'}}) }}




            {{ form_end(form)}}
            {% else %}
                Aucun fichier à afficher
                {% endif %}


                    {% endblock %}
